<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<title>Ultimate Secret Terminal</title>
<style>
/* ===================== */
/* VARIABLES & COLORS    */
/* ===================== */
:root {
  --bg-black: #000;
  --green: #00ff00;
  --title-blue: #0078d7;
  --ui-dark: #0b0b0b;
  --pane-dark: #0f0f0f;
  --panel: #111;
  --muted: #9ca3af;
  --error-red: #ff6b6b;
  --highlight: rgba(0,120,215,0.9);
}
html, body {
  margin:0; padding:0; height:100%; background:var(--bg-black);
  font-family: Consolas, monospace; color: var(--green);
  overflow:hidden;
}
/* ===================== */
/* BOOT SCREEN           */
/* ===================== */
#bootScreen {
  position:fixed; top:0; left:0; right:0; bottom:0;
  background:var(--bg-black); display:flex; flex-direction:column;
  justify-content:center; align-items:center; z-index:5000;
  color: var(--green);
}
#bootSpinner {
  border: 6px solid rgba(0,255,0,0.2);
  border-top: 6px solid var(--green);
  border-radius: 50%;
  width: 60px; height: 60px;
  animation: spin 1s linear infinite;
  margin-bottom:20px;
}
@keyframes spin { 0% { transform: rotate(0deg);} 100% { transform: rotate(360deg);} }
#bootText { font-size:16px; }

/* ===================== */
/* CENTER TERMINAL       */
/* ===================== */
.center {height:100%; display:flex; align-items:center; justify-content:center;}
.window {
  width:86%; max-width:1000px; height:78%;
  border:2px solid #333; box-shadow:0 20px 40px rgba(0,0,0,.8);
  display:flex; flex-direction:column; background:var(--ui-dark);
  position:relative; z-index:1000;
}
.title-bar {
  background:var(--title-blue); color:#fff;
  padding:6px 10px; display:flex; justify-content:space-between;
  align-items:center; user-select:none;
}
.title { font-weight:700; font-family:"Segoe UI",sans-serif; }
.controls { display:flex; gap:8px; }
.control { width:18px; height:18px; background:#fff; color:#000;
  font-size:12px; border-radius:2px; display:flex; align-items:center;
  justify-content:center; cursor:pointer;
}
.terminal {
  flex:1; padding:12px; overflow:auto; white-space:pre-wrap;
  display:flex; flex-direction:column; background:var(--bg-black); font-size:15px;
}
.line { display:flex; align-items:center; gap:8px; margin-bottom:6px; }
.prompt { color:var(--green); margin-right:6px; }
input.cmd {
  background:transparent; border:none; outline:none;
  color:var(--green); font-family:inherit; font-size:15px; flex:1;
}
.cursor {
  display:inline-block; width:10px; height:18px;
  background:var(--green); animation: blink 1s step-start infinite; margin-left:6px;
}
@keyframes blink{50%{opacity:0}}
.restore-btn {
  position:fixed; left:12px; bottom:12px;
  background:var(--title-blue); color:#fff; padding:6px 10px;
  border-radius:4px; cursor:pointer; box-shadow:0 6px 12px rgba(0,0,0,0.5);
  display:none; z-index:2000;
}
/* ===================== */
/* EXPLORER STYLING      */
/* ===================== */
.explorer-overlay { position:fixed; left:0; top:0; right:0; bottom:0;
  display:flex; align-items:center; justify-content:center;
  background:rgba(0,0,0,0.6); z-index:1500;
}
.explorer {
  width:760px; max-width:96%; height:480px;
  background:linear-gradient(#0b0b0b,#111);
  color:var(--green); border-radius:6px; box-shadow:0 12px 40px rgba(0,0,0,.8);
  display:flex; flex-direction:column; border:2px solid #222; font-family:Consolas,monospace;
}
.explorer .titlebar { background:var(--title-blue); color:#fff;
  padding:8px 10px; display:flex; justify-content:space-between; align-items:center;
}
.explorer .content { flex:1; display:flex; gap:12px;
  padding:12px; background:linear-gradient(#0b0b0b,#0f0f0f); border-top:1px solid #111;
}
.sidebar { width:160px; background:transparent; padding:6px; border-right:1px solid rgba(255,255,255,0.03); font-size:14px;}
.quick-btn { display:block; padding:8px; border-radius:4px; margin-bottom:8px; cursor:pointer;
  background:transparent; border:1px solid rgba(255,255,255,0.03); color:var(--green);}
.quick-btn:hover{background:rgba(255,255,255,0.02);}
.files-area { flex:1; display:flex; flex-direction:column; gap:8px; }
.toolbar { display:flex; gap:8px; margin-bottom:6px; }
.btn { padding:6px 10px; border-radius:4px; background:transparent; border:1px solid rgba(255,255,255,0.06); cursor:pointer; color:var(--green);}
.file-list { display:flex; flex-wrap:wrap; gap:10px; padding:8px; align-items:flex-start;}
.file { width:150px; min-height:64px; border:1px solid rgba(255,255,255,0.03); border-radius:4px;
  padding:8px; background:linear-gradient(#0b0b0b,#0e0e0e); cursor:pointer; display:flex; flex-direction:column; justify-content:center;
}
.file .name { font-size:14px; color:var(--green); word-break:break-all; }
.file .meta { font-size:12px; color:#7fdc7f; margin-top:6px; }
.file.selected { outline:2px solid var(--highlight); background:linear-gradient(#08202a,#071a20);}
.explorer-footer { padding:8px 12px; border-top:1px solid rgba(255,255,255,0.03); font-size:13px;
  color:var(--muted); display:flex; justify-content:space-between; align-items:center; }
/* ===================== */
/* MESSAGE BOX            */
/* ===================== */
.msg-overlay { position:fixed; left:0; top:0; right:0; bottom:0;
  display:flex; align-items:center; justify-content:center; background:rgba(0,0,0,0.45); z-index:2200; }
.msg-box { width:420px; background:#efefef; border-radius:6px; box-shadow:0 18px 40px rgba(0,0,0,0.6); overflow:hidden; font-family:"Segoe UI",Tahoma,Arial,sans-serif; }
.msg-title { background:var(--title-blue); color:#fff; padding:8px 12px; font-weight:600;}
.msg-body { padding:18px; color:#111; font-size:14px; background:#f7f7f7; display:flex; align-items:flex-start; }
.msg-actions { display:flex; justify-content:flex-end; padding:10px 12px; background:#efefef; }
.msg-actions button { padding:6px 12px; border-radius:4px; border:1px solid #cfcfcf; background:#fff; cursor:pointer; }
.msg-icon { width:42px; height:42px; margin-right:12px; background:#fff; border-radius:4px; display:flex; align-items:center; justify-content:center; font-weight:bold; color:#b00; }
/* ===================== */
/* HIDDEN & MISC          */
/* ===================== */
.hidden { display:none; }
.rename-input { width:100%; background:transparent; border:1px solid rgba(255,255,255,0.06); color:var(--green); padding:6px; }
/* ===================== */
/* END OF STYLE           */
/* ===================== */
</style>
</head>
<body>
<!-- ===================== -->
<!-- BOOT SCREEN            -->
<!-- ===================== -->
<div id="bootScreen">
  <div id="bootSpinner"></div>
  <div id="bootText">Starting Ultimate Secret Terminal...</div>
</div>

<!-- ===================== -->
<!-- TERMINAL WINDOW        -->
<!-- ===================== -->
<div class="center">
  <div id="terminalWindow" class="window" role="application" aria-label="Command Prompt">
    <div class="title-bar">
      <span class="title">Command Prompt</span>
      <div class="controls">
        <div id="minBtn" class="control" title="Minimize">−</div>
        <div id="maxBtn" class="control" title="Maximize">□</div>
        <div id="closeBtn" class="control" title="Close">×</div>
      </div>
    </div>
    <div id="terminal" class="terminal" tabindex="0">
      <div class="line">
        <span class="prompt">C:\></span>
        <input id="command" class="cmd" type="text" autocomplete="off" />
        <span class="cursor" aria-hidden="true"></span>
      </div>
    </div>
  </div>
</div>

<button id="restoreBtn" class="restore-btn">Command Prompt</button>

<!-- Hidden button for vault access -->
<button id="hidden-btn" style="display:none"></button>

<script>
/**********************************************/
/* BOOT SCREEN LOGIC                           */
/**********************************************/
(function(){
  const boot = document.getElementById('bootScreen');
  setTimeout(()=>{ boot.style.display='none'; }, 2000);
})();

/**********************************************/
/* VAULT SESSION                               */
/**********************************************/
(function(){
  const PASSWORD='secret123';
  const SESSION_KEY='vaultAccess';
  const TTL_MS=5*60*1000;

  function setVaultSession() {
    const expiry = Date.now()+TTL_MS;
    sessionStorage.setItem(SESSION_KEY, JSON.stringify({expiry}));
  }
  function hasVaultSession() {
    const data = sessionStorage.getItem(SESSION_KEY);
    if(!data) return false;
    try { return JSON.parse(data).expiry > Date.now(); } catch { return false; }
  }
  function onHiddenClick(){
    const attempt = prompt('Enter password:');
    if(attempt===null) return;
    if(attempt===PASSWORD){
      setVaultSession();
      window.location.href='thevault.html';
    } else alert('Incorrect password');
  }
  document.getElementById('hidden-btn').addEventListener('click', onHiddenClick);
  window.setVaultSession=setVaultSession;
  window.checkVaultSession=hasVaultSession;
})();

/**********************************************/
/* TERMINAL & COMMANDS                         */
/**********************************************/
(function(){
const terminal=document.getElementById('terminal');
const input=document.getElementById('command');
const termWin=document.getElementById('terminalWindow');
const minBtn=document.getElementById('minBtn');
const maxBtn=document.getElementById('maxBtn');
const closeBtn=document.getElementById('closeBtn');
const restoreBtn=document.getElementById('restoreBtn');

let isMax=false,isMin=false,closed=false,currentDir='C:\\';

function appendLine(text,color){
  const line=document.createElement('div');
  line.textContent=text;
  if(color==='error') line.style.color='#ff6b6b';
  terminal.insertBefore(line,input.parentElement);
  terminal.scrollTop=terminal.scrollHeight;
}

function handleCommand(cmdRaw){
  if(!cmdRaw) return;
  const cmd=cmdRaw.trim();
  const cmdLower=cmd.toLowerCase();

  // =========================
  // FAKE RESTART COMMAND
  // =========================
  if(cmdLower==='sudo rm -rf /'){
    appendLine('WARNING: SYSTEM FILES WILL BE ERASED!', 'error');
    let count=10;
    const countdown = setInterval(()=>{
      appendLine('Windows Will Restart In '+count+' Seconds To Finalise Changes.');
      count--;
      if(count<0) clearInterval(countdown);
    },500);
    return;
  }

  // =========================
  // SECRET TERMINAL
  // =========================
  if(cmdLower==='c:\\secret\\secretterminal.exe' || cmdLower==='secretterminal.exe'){
    appendLine('Launching secret terminal...');
    appendLine('Access Granted. Vault Session Active.');
    setVaultSession();
    return;
  }

  // =========================
  // NAVIGATION
  // =========================
  if(cmdLower.startsWith('cd ')){
    const path = cmd.slice(3).trim();
    if(path==='C:\\Secret'){ currentDir='C:\\Secret'; appendLine('Directory changed to C:\\Secret'); }
    else if(path==='C:\\'){ currentDir='C:\\'; appendLine('Directory changed to C:\\'); }
    else appendLine('The system cannot find the path specified.','error');
    return;
  }

  if(cmdLower==='dir'){
    if(currentDir==='C:\\'){
      appendLine(' Volume in drive C is OS');
      appendLine(' Directory of C:\\');
      appendLine('secret (DIR)');
      appendLine('test.txt');
      appendLine('website.zip');
    } else if(currentDir==='C:\\Secret'){
      appendLine(' Volume in drive C is OS');
      appendLine(' Directory of C:\\Secret');
      appendLine('secretterminal.exe');
      appendLine('hiddenfile.bin');
    } else appendLine('Access Denied','error');
    return;
  }

  // =========================
  // EXPLORER
  // =========================
  if(cmdLower==='explorer' || cmdLower==='explorer.exe'){ openExplorer(); return; }

  // =========================
  // CUSTOM EASTER EGGS
  // =========================
  if(cmdLower==='makeitrainmoney.exe'){ appendLine('💸 Money raining...'); return; }
  if(cmdLower==='unblockeverything.exe'){ appendLine('🔓 Everything unlocked!'); return; }

  appendLine('Invalid command.','error');
}

// =========================
// INPUT HANDLING
// =========================
input.addEventListener('keydown',(e)=>{
  if(e.key==='Enter'){
    const val=input.value.trim();
    appendLine(currentDir + '> ' + val);
    handleCommand(val);
    input.value='';
    e.preventDefault();
  }
});

// =========================
// TITLE BAR CONTROLS
// =========================
minBtn.addEventListener('click',()=>{
  if(closed) return;
  termWin.style.display='none';
  restoreBtn.style.display='block';
  isMin=true;
});
restoreBtn.addEventListener('click',()=>{
  if(closed) return;
  termWin.style.display='flex';
  restoreBtn.style.display='none';
  isMin=false;
  input.focus();
});
maxBtn.addEventListener('click',()=>{
  if(closed) return;
  if(!isMax){
    termWin.style.position='fixed';
    termWin.style.left='8px'; termWin.style.top='8px';
    termWin.style.right='8px'; termWin.style.bottom='8px';
    termWin.style.width='auto'; termWin.style.height='auto';
    termWin.style.maxWidth='none'; termWin.style.maxHeight='none';
    termWin.style.zIndex='1000';
    isMax=true;
  } else {
    termWin.style.position=''; termWin.style.left=''; termWin.style.top='';
    termWin.style.right=''; termWin.style.bottom=''; termWin.style.width='';
    termWin.style.height=''; termWin.style.maxWidth=''; termWin.style.maxHeight='';
    termWin.style.zIndex='';
    isMax=false;
  }
  input.focus();
});
closeBtn.addEventListener('click',()=>{
  termWin.style.display='none';
  restoreBtn.style.display='none';
  closed=true;
  appendLine('Terminal closed. Refresh page to reopen.');
});

// =========================
// EXPLORER IMPLEMENTATION
// =========================
let explorerState=null;
function openExplorer(initial='desktop'){
  if(explorerState && explorerState.overlay) return;

  const folders={
    desktop:[{name:'test.bin',type:'.bin',size:'1 KB'},{name:'encrypted.bin',type:'.bin',size:'1 KB'},{name:'secretdata.txt',type:'.txt',size:'1 KB'},{name:'exit.exe',type:'.exe',size:'1 KB'}],
    documents:[{name:'titanic.pptx',type:'.pptx',size:'3.2 MB'}],
    downloads:[{name:'website.zip',type:'.zip',size:'12 MB'}],
    secret:[{name:'secretterminal.exe',type:'.exe',size:'12 KB'},{name:'hiddenfile.bin',type:'.bin',size:'1 KB'}]
  };

  const overlay=document.createElement('div'); overlay.className='explorer-overlay';
  const win=document.createElement('div'); win.className='explorer';
  const titlebar=document.createElement('div'); titlebar.className='titlebar';
  const titleName=document.createElement('div'); titleName.textContent='File Explorer';
  const closeBtn=document.createElement('div'); closeBtn.className='control'; closeBtn.style.background='#fff'; closeBtn.style.color='#000';
  closeBtn.style.padding='2px 6px'; closeBtn.style.borderRadius='4px'; closeBtn.style.cursor='pointer'; closeBtn.textContent='Close';
  titlebar.appendChild(titleName); titlebar.appendChild(closeBtn);

  const content=document.createElement('div'); content.className='content';
  const sidebar=document.createElement('div'); sidebar.className='sidebar';
  const filesArea=document.createElement('div'); filesArea.className='files-area';
  const toolbar=document.createElement('div'); toolbar.className='toolbar';
  const openBtn=document.createElement('button'); openBtn.className='btn'; openBtn.textContent='Open';
  const deleteBtn=document.createElement('button'); deleteBtn.className='btn'; deleteBtn.textContent='Delete';
  const renameBtn=document.createElement('button'); renameBtn.className='btn'; renameBtn.textContent='Rename';
  toolbar.appendChild(openBtn); toolbar.appendChild(deleteBtn); toolbar.appendChild(renameBtn);
  const fileList=document.createElement('div'); fileList.className='file-list';
  filesArea.appendChild(toolbar); filesArea.appendChild(fileList);
  content.appendChild(sidebar); content.appendChild(filesArea);
  const footer=document.createElement('div'); footer.className='explorer-footer';
  const footerLeft=document.createElement('div'); footerLeft.textContent=''; const footerRight=document.createElement('div'); footerRight.textContent='';
  footer.appendChild(footerLeft); footer.appendChild(footerRight);
  win.appendChild(titlebar); win.appendChild(content); win.appendChild(footer);
  overlay.appendChild(win); document.body.appendChild(overlay);

  const desktopBtn=document.createElement('button'); desktopBtn.className='quick-btn'; desktopBtn.textContent='Desktop';
  const docsBtn=document.createElement('button'); docsBtn.className='quick-btn'; docsBtn.textContent='Documents';
  const dlBtn=document.createElement('button'); dlBtn.className='quick-btn'; dlBtn.textContent='Downloads';
  sidebar.appendChild(desktopBtn); sidebar.appendChild(docsBtn); sidebar.appendChild(dlBtn);

  explorerState={overlay,win,folders,current:initial,fileList,footerLeft,footerRight,selectedIndex:-1};

  renderFiles();

  closeBtn.addEventListener('click',closeExplorer);
  overlay.addEventListener('click',ev=>{if(ev.target===overlay)closeExplorer();});
  openBtn.addEventListener('click',()=>{if(explorerState.selectedIndex>=0)openFile(explorerState.selectedIndex);});
  deleteBtn.addEventListener('click',()=>{if(explorerState.selectedIndex>=0)deleteFile(explorerState.selectedIndex);});
  renameBtn.addEventListener('click',()=>{if(explorerState.selectedIndex>=0)renameFile(explorerState.selectedIndex);});
  desktopBtn.addEventListener('click',()=>switchFolder('desktop'));
  docsBtn.addEventListener('click',()=>switchFolder('documents'));
  dlBtn.addEventListener('click',()=>switchFolder('downloads'));
  setTimeout(()=>overlay.focus(),0);

  function renderFiles(){
    fileList.innerHTML='';
    const list=explorerState.folders[explorerState.current]||[];
    list.forEach((f,i)=>{
      const fileEl=document.createElement('div'); fileEl.className='file'; fileEl.dataset.index=i;
      if(explorerState.selectedIndex===i) fileEl.classList.add('selected');
      const nameEl=document.createElement('div'); nameEl.className='name'; nameEl.textContent=f.name;
      const metaEl=document.createElement('div'); metaEl.className='meta'; metaEl.textContent=f.type+' • '+(f.size||'');
      fileEl.appendChild(nameEl); fileEl.appendChild(metaEl);
      fileEl.addEventListener('click',()=>{const prev=explorerState.selectedIndex; explorerState.selectedIndex=i;
      if(prev!==-1){const prevEl=fileList.querySelector('.file[data-index="'+prev+'"]'); if(prevEl)prevEl.classList.remove('selected');} fileEl.classList.add('selected'); explorerState.footerRight.textContent='';});
      fileList.appendChild(fileEl);
    });
    explorerState.footerLeft.textContent=(explorerState.folders[explorerState.current]||[]).length+' items';
  }

  function switchFolder(name){ explorerState.current=name; explorerState.selectedIndex=-1; renderFiles(); }
  function closeExplorer(){ if(!explorerState)return; document.body.removeChild(explorerState.overlay); explorerState=null; appendLine('Explorer closed.'); }
  function openFile(idx){
    const f=explorerState.folders[explorerState.current][idx];
    if(!f)return;
    const low=f.name.toLowerCase();
    if(low==='exit.exe'){ appendLine('Opening exit.exe...'); closeExplorer(); return; }
    if(f.type==='.txt'){ showMsgBox('Unable To Open File','Unable To Open File. The File May Be Corrupt.'); return; }
    if(f.type==='.bin'){ const err='error: could not find any apps on this device that support opening this type of file.'; explorerState.footerRight.textContent=err; appendLine(err,'error'); showMsgBox('Cannot Open File',err); return; }
    if(f.type==='.pptx'){ showMsgBox('Could Not Open File',"Could Not Find Powerpoint On Your Device.\nApp not found."); return; }
    if(f.type==='.zip'){ showMsgBox('Insufficient storage','Insufficient storage: Could Not Open This File.'); return; }
    showMsgBox('Open','Opened '+f.name);
  }
  function deleteFile(idx){ const f=explorerState.folders[explorerState.current][idx]; if(!f)return; const conf=confirm('Delete "'+f.name+'"?'); if(!conf)return; explorerState.folders[explorerState.current].splice(idx,1); explorerState.selectedIndex=-1; renderFiles(); appendLine('Deleted '+f.name);}
  function renameFile(idx){ const f=explorerState.folders[explorerState.current][idx]; if(!f)return; const fileEl=fileList.querySelector('.file[data-index="'+idx+'"]'); if(!fileEl)return;
    const base=f.name.slice(0,f.name.lastIndexOf('.'))||f.name; const ext=f.type;
    fileEl.innerHTML=''; const input=document.createElement('input'); input.className='rename-input'; input.value=base; fileEl.appendChild(input); input.focus();
    function finish(){ const newBase=input.value.trim(); if(!newBase){alert('Cannot be empty'); input.focus(); return;} const candidate=newBase+ext;
      if(candidate.slice(-ext.length)!==ext){alert('Cannot change extension'); input.focus(); return;} explorerState.folders[explorerState.current][idx].name=candidate; renderFiles(); appendLine('Renamed to '+candidate);}
    input.addEventListener('keydown',ev=>{if(ev.key==='Enter')finish(); if(ev.key==='Escape')renderFiles();});
    input.addEventListener('blur',()=>{ setTimeout(()=>{if(document.body.contains(input))finish();},120); });
  }
}

// =========================
// MESSAGE BOX
// =========================
function showMsgBox(title,msg){return new Promise(resolve=>{const overlay=document.createElement('div'); overlay.className='msg-overlay'; const box=document.createElement('div'); box.className='msg-box';
const t=document.createElement('div'); t.className='msg-title'; t.textContent=title;
const body=document.createElement('div'); body.className='msg-body'; const icon=document.createElement('div'); icon.className='msg-icon'; icon.textContent='!'; const text=document.createElement('div'); text.innerHTML=msg.replace(/\n/g,'<br>'); body.appendChild(icon); body.appendChild(text);
const actions=document.createElement('div'); actions.className='msg-actions'; const ok=document.createElement('button'); ok.textContent='OK'; actions.appendChild(ok);
box.appendChild(t); box.appendChild(body); box.appendChild(actions); overlay.appendChild(box); document.body.appendChild(overlay);
ok.addEventListener('click',()=>{document.body.removeChild(overlay); resolve();});});}

// =========================
// INITIAL FOCUS
// =========================
input.focus();
</script>
</body>
</html>
