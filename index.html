<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Windows Basic Web Edition</title>
<style>
  :root{
    --cmd-bg:#000;
    --cmd-green:#00ff00;
    --cmd-white:#fff;
    --title-blue:#0078d7;
    --title-red:#d70000;
    --ui-dark:#0b0b0b;
    --pane-dark:#0f0f0f;
    --panel:#111;
    --muted:#9ca3af;
  }
  html,body{height:100%;margin:0;font-family:Consolas,monospace;color:var(--cmd-green);background:var(--cmd-bg);}

  /* Boot screen */
  #bootScreen{position:fixed;top:0;left:0;width:100%;height:100%;background:#000;color:var(--cmd-green);display:flex;flex-direction:column;justify-content:center;align-items:center;font-size:20px;z-index:3000;transition:opacity 1s;}
  #bootScreen.fade{opacity:0;pointer-events:none;}
  #bootCircle{border:4px solid #00ff00;border-top:4px solid #000;border-radius:50%;width:40px;height:40px;margin-top:20px;animation:spin 1s linear infinite;}
  @keyframes spin{100%{transform:rotate(360deg);}}

  /* Centered terminal */
  .center{height:100%;display:flex;align-items:center;justify-content:center;}

  /* Terminal window */
  .window{width:86%;max-width:1000px;height:78%;border:2px solid #333;box-shadow:0 20px 40px rgba(0,0,0,.8);display:flex;flex-direction:column;background:var(--ui-dark);}
  .title-bar{padding:6px 10px;display:flex;justify-content:space-between;align-items:center;user-select:none;font-weight:700;}
  .terminal{flex:1;padding:12px;overflow:auto;white-space:pre-wrap;display:flex;flex-direction:column;font-size:15px;}
  .line{display:flex;align-items:center;gap:8px;margin-bottom:6px;}
  .prompt{margin-right:6px;}
  input.cmd{background:transparent;border:none;outline:none;flex:1;}
  .cursor{display:inline-block;width:10px;height:18px;background:var(--cmd-green);animation:blink 1s step-start infinite;margin-left:6px;}
  @keyframes blink{50%{opacity:0}}

  .restore-btn{position:fixed;left:12px;bottom:12px;background:var(--title-blue);color:#fff;padding:6px 10px;border-radius:4px;cursor:pointer;display:none;z-index:2000;}

  /* Explorer */
  .explorer-overlay{position:fixed;left:0;top:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.6);z-index:1500;}
  .explorer{width:760px;max-width:96%;height:480px;background:linear-gradient(#0b0b0b,#111);color:var(--cmd-green);border-radius:6px;box-shadow:0 12px 40px rgba(0,0,0,.8);display:flex;flex-direction:column;border:2px solid #222;font-family:Consolas,monospace;}
  .explorer .titlebar{padding:8px 10px;display:flex;justify-content:space-between;align-items:center;}
  .content{flex:1;display:flex;gap:12px;padding:12px;background:linear-gradient(#0b0b0b,#0f0f0f);border-top:1px solid #111;}
  .sidebar{width:160px;background:transparent;padding:6px;border-right:1px solid rgba(255,255,255,0.03);font-size:14px;}
  .quick-btn{display:block;padding:8px;border-radius:4px;margin-bottom:8px;cursor:pointer;background:transparent;border:1px solid rgba(255,255,255,0.03);color:var(--cmd-green)}
  .quick-btn:hover{background:rgba(255,255,255,0.02)}
  .files-area{flex:1;display:flex;flex-direction:column;gap:8px;}
  .toolbar{display:flex;gap:8px}
  .btn{padding:6px 10px;border-radius:4px;background:transparent;border:1px solid rgba(255,255,255,0.06);cursor:pointer;color:var(--cmd-green)}
  .file-list{display:flex;flex-wrap:wrap;gap:10px;padding:8px;align-items:flex-start}
  .file{width:150px;min-height:64px;border:1px solid rgba(255,255,255,0.03);border-radius:4px;padding:8px;background:linear-gradient(#0b0b0b,#0e0e0e);cursor:pointer;display:flex;flex-direction:column;justify-content:center}
  .file .name{font-size:14px;color:var(--cmd-green);word-break:break-all}
  .file .meta{font-size:12px;color:#7fdc7f;margin-top:6px}
  .file.selected{outline:2px solid rgba(0,120,215,0.9);background:linear-gradient(#08202a,#071a20)}
  .explorer-footer{padding:8px 12px;border-top:1px solid rgba(255,255,255,0.03);font-size:13px;color:var(--muted);display:flex;justify-content:space-between;align-items:center}

  /* Message box */
  .msg-overlay{position:fixed;left:0;top:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0.45);z-index:2200}
  .msg-box{width:420px;background:#efefef;border-radius:6px;box-shadow:0 18px 40px rgba(0,0,0,0.6);overflow:hidden;font-family:"Segoe UI",Tahoma,Arial,sans-serif}
  .msg-title{background:var(--title-blue);color:#fff;padding:8px 12px;font-weight:600}
  .msg-body{padding:18px;color:#111;font-size:14px;background:#f7f7f7}
  .msg-actions{display:flex;justify-content:flex-end;padding:10px 12px;background:#efefef}
  .msg-actions button{padding:6px 12px;border-radius:4px;border:1px solid #cfcfcf;background:#fff;cursor:pointer}
  .msg-icon{float:left;width:42px;height:42px;margin-right:12px;background:#fff;border-radius:4px;display:flex;align-items:center;justify-content:center;font-weight:bold;color:#b00}

  .hidden{display:none}
</style>
</head>
<body>
<div id="bootScreen">
  Starting Windows Basic Web Edition...
  <div>© 2025 USERENTERNAMEHERE888</div>
  <div id="bootCircle"></div>
</div>

<div class="center">
  <div id="terminalWindow" class="window">
    <div class="title-bar" id="mainTitleBar">
      <span class="title">Command Prompt</span>
      <div class="controls">
        <div id="minBtn" class="control" title="Minimize">−</div>
        <div id="maxBtn" class="control" title="Maximize">□</div>
        <div id="closeBtn" class="control" title="Close">×</div>
      </div>
    </div>
    <div id="terminal" class="terminal" tabindex="0">
      <div class="line">
        <span class="prompt">C:\></span>
        <input id="command" class="cmd" type="text" autocomplete="off" />
        <span class="cursor" aria-hidden="true"></span>
      </div>
    </div>
  </div>
</div>

<button id="restoreBtn" class="restore-btn">Command Prompt</button>
<button id="hidden-btn" class="hidden"></button>

<script>
//----------------------------
// Boot screen
//----------------------------
const bootScreen = document.getElementById('bootScreen');
setTimeout(()=>{
  bootScreen.classList.add('fade');
},5000);

//----------------------------
// Persistent filesystem
//----------------------------
const defaultFS = {
  'C:/': [
    {name:'readme.txt',type:'.txt',size:'1 KB'},
    {name:'secret',type:'dir'},
  ],
  'C:/Secret': [
    {name:'secretterminal.exe',type:'.exe',size:'1 KB'}
  ]
};
let fs = JSON.parse(localStorage.getItem('fs')) || defaultFS;
function saveFS(){localStorage.setItem('fs',JSON.stringify(fs));}

//----------------------------
// Terminal logic
//----------------------------
const terminal = document.getElementById('terminal');
const input = document.getElementById('command');
const terminalWindow = document.getElementById('terminalWindow');
const minBtn = document.getElementById('minBtn');
const maxBtn = document.getElementById('maxBtn');
const closeBtn = document.getElementById('closeBtn');
const restoreBtn = document.getElementById('restoreBtn');

let cwd = 'C:/';
let closed=false;

function appendLine(text,color){
  const line=document.createElement('div');
  line.textContent=text;
  if(color==='error') line.style.color='#ff6b6b';
  terminal.insertBefore(line,input.parentElement);
  terminal.scrollTop=terminal.scrollHeight;
}

input.addEventListener('keydown',(e)=>{
  if(e.key==='Enter'){
    const cmdRaw=input.value.trim();
    appendLine(cwd+'> '+cmdRaw);
    handleCommand(cmdRaw);
    input.value='';
    e.preventDefault();
  }
});

function handleCommand(cmdRaw){
  if(!cmdRaw) return;
  const args=cmdRaw.split(' ');
  const cmd=args[0].toLowerCase();

  // Basic commands
  if(cmd==='help'){
    appendLine('Available commands: cd, dir, delete, copy, rename, help, winver, launch, explorer, sudo');
  } else if(cmd==='cd'){
    const target=args[1];
    if(!target){appendLine('Current directory: '+cwd); return;}
    let path = target.replace(/\//g,'\\');
    if(!path.endsWith('\\')) path+='\\';
    if(fs[path]){cwd=path; appendLine('Changed directory to '+cwd);}
    else appendLine('Error: Directory not found','error');
  } else if(cmd==='dir'){
    const files=fs[cwd]||[];
    files.forEach(f=>appendLine(f.name+' '+(f.type||'')));
  } else if(cmd==='delete'){
    const name=args[1];
    if(!name){appendLine('Specify file to delete'); return;}
    let files=fs[cwd]||[];
    const idx=files.findIndex(f=>f.name===name);
    if(idx>-1){files.splice(idx,1);saveFS(); appendLine('Deleted '+name);}
    else appendLine('File not found','error');
  } else if(cmd==='rename'){
    const oldName=args[1];
    const newName=args[2];
    let files=fs[cwd]||[];
    const file=files.find(f=>f.name===oldName);
    if(file){file.name=newName; saveFS(); appendLine('Renamed '+oldName+' to '+newName);}
    else appendLine('File not found','error');
  } else if(cmd==='winver'||cmd==='winver.exe'){
    showMsgBox('Windows Basic Web Edition','Made by USERENTERNAMEHERE888\n© 2025\nThis is not official Microsoft');
  } else if(cmd==='launch'){
    appendLine('Launch command placeholder');
  } else if(cmd==='explorer'||cmd==='explorer.exe'){
    openExplorer();
  } else if(cmd==='sudo'){
    if(args[1]==='rm'&&args[2]==='-rf'&&args[3]==='/'){
      appendLine('Warning: This will erase all localStorage...');
      showCountdownAndWipe();
    }
  } else if(cmd==='secretterminal.exe'){
    if(cwd==='C:/Secret\\'){openSecretTerminal();}
    else appendLine('Error: Could not find file','error');
  } else appendLine('Invalid command','error');
}

//----------------------------
// Explorer
//----------------------------
let explorerState=null;
function openExplorer(){
  if(explorerState) return;
  const overlay=document.createElement('div'); overlay.className='explorer-overlay';
  const win=document.createElement('div'); win.className='explorer';
  const titlebar=document.createElement('div'); titlebar.className='titlebar';
  const title=document.createElement('div'); title.textContent='File Explorer';
  const closeBtn=document.createElement('div'); closeBtn.className='control'; closeBtn.textContent='Close';
  titlebar.appendChild(title); titlebar.appendChild(closeBtn);

  const content=document.createElement('div'); content.className='content';
  const sidebar=document.createElement('div'); sidebar.className='sidebar';
  ['C:/','C:/Secret'].forEach(f=>{
    const btn=document.createElement('button'); btn.className='quick-btn'; btn.textContent=f;
    btn.onclick=()=>{renderFiles(f);}
    sidebar.appendChild(btn);
  });
  const filesArea=document.createElement('div'); filesArea.className='files-area';
  const toolbar=document.createElement('div'); toolbar.className='toolbar';
  ['Open','Delete','Rename'].forEach(t=>{
    const b=document.createElement('button'); b.className='btn'; b.textContent=t;
    toolbar.appendChild(b);
  });
  const fileList=document.createElement('div'); fileList.className='file-list';
  filesArea.appendChild(toolbar); filesArea.appendChild(fileList);
  content.appendChild(sidebar); content.appendChild(filesArea);
  win.appendChild(titlebar); win.appendChild(content);
  overlay.appendChild(win);
  document.body.appendChild(overlay);

  explorerState={overlay,win,fileList,current:'C:/',toolbar};
  renderFiles('C:/');

  closeBtn.onclick=()=>{document.body.removeChild(overlay); explorerState=null;}
  function renderFiles(path){
    explorerState.current=path;
    fileList.innerHTML='';
    (fs[path]||[]).forEach(f=>{
      const div=document.createElement('div'); div.className='file'; div.textContent=f.name;
      fileList.appendChild(div);
    });
  }
}

//----------------------------
// Secret Terminal
//----------------------------
function openSecretTerminal(){
  const termWin=document.createElement('div'); termWin.className='window';
  termWin.style.position='fixed'; termWin.style.top='50px'; termWin.style.left='50px'; termWin.style.width='500px'; termWin.style.height='300px'; termWin.style.background='#000'; termWin.style.zIndex=2500;
  const titleBar=document.createElement('div'); titleBar.className='title-bar'; titleBar.style.background='var(--title-red)';
  const title=document.createElement('span'); title.textContent='The Secret Vault'; title.style.color='#fff'; title.style.fontWeight='700';
  const closeBtn=document.createElement('div'); closeBtn.className='control'; closeBtn.textContent='×'; closeBtn.style.color='#fff'; closeBtn.onclick=()=>document.body.removeChild(termWin);
  titleBar.appendChild(title); titleBar.appendChild(closeBtn); termWin.appendChild(titleBar);

  const term=document.createElement('div'); term.className='terminal'; term.style.color='#fff';
  const line=document.createElement('div'); line.className='line';
  const prompt=document.createElement('span'); prompt.className='prompt'; prompt.textContent='C:/Secret>';
  const cmdInput=document.createElement('input'); cmdInput.type='text'; cmdInput.className='cmd';
  line.appendChild(prompt); line.appendChild(cmdInput); term.appendChild(line); termWin.appendChild(term);
  document.body.appendChild(termWin);

  cmdInput.addEventListener('keydown',(e)=>{
    if(e.key==='Enter'){
      const val=cmdInput.value.trim(); appendSecretLine(val);
      cmdInput.value='';
      if(val.toLowerCase()==='launch minecraft1.8.8.exe') appendSecretLine('This Command Has Been Disabled By Mojang.');
      else if(val.toLowerCase()==='launch unblockedbrowser.exe') openExplorer();
      else if(val.toLowerCase()==='exit') document.body.removeChild(termWin);
      else appendSecretLine('Invalid command');
    }
  });
  function appendSecretLine(txt){
    const l=document.createElement('div'); l.textContent=txt; term.insertBefore(l,line);
    term.scrollTop=term.scrollHeight;
  }
  cmdInput.focus();
}

//----------------------------
// Sudo rm -rf / countdown
//----------------------------
function showCountdownAndWipe(){
  let count=10;
  const id=setInterval(()=>{
    appendLine('Windows Will Restart In '+count+' Seconds To Finalise Changes...');
    count--;
    if(count<0){clearInterval(id); localStorage.clear(); location.reload();}
  },1000);
}

//----------------------------
// Message Box
//----------------------------
function showMsgBox(title,message){
  return new Promise(resolve=>{
    const overlay=document.createElement('div'); overlay.className='msg-overlay';
    const box=document.createElement('div'); box.className='msg-box';
    const t=document.createElement('div'); t.className='msg-title'; t.textContent=title;
    const body=document.createElement('div'); body.className='msg-body';
    const icon=document.createElement('div'); icon.className='msg-icon'; icon.textContent='!';
    const text=document.createElement('div'); text.innerHTML=message.replace(/\n/g,'<br>');
    body.appendChild(icon); body.appendChild(text);
    const actions=document.createElement('div'); actions.className='msg-actions';
    const ok=document.createElement('button'); ok.textContent='OK'; ok.onclick=()=>{document.body.removeChild(overlay); resolve();}
    actions.appendChild(ok); box.appendChild(t); box.appendChild(body); box.appendChild(actions);
    overlay.appendChild(box); document.body.appendChild(overlay);
  });
}

//----------------------------
// Title bar buttons
//----------------------------
minBtn.onclick=()=>{terminalWindow.style.display='none'; restoreBtn.style.display='block';};
restoreBtn.onclick=()=>{terminalWindow.style.display='flex'; restoreBtn.style.display='none';};
maxBtn.onclick=()=>{terminalWindow.style.width=window.innerWidth-40+'px'; terminalWindow.style.height=window.innerHeight-40+'px';};
closeBtn.onclick=()=>{terminalWindow.style.display='none'; restoreBtn.style.display='block';};

input.focus();
</script>
</body>
</html>
