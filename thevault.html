<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Windows Web OS</title>
<style>
  /* General reset */
  * { margin:0; padding:0; box-sizing:border-box; font-family:Segoe UI, sans-serif; }
  body { background:#0078d7; overflow:hidden; height:100vh; }

  /* Taskbar */
  #taskbar {
    position:fixed; bottom:0; left:0; width:100%; height:40px;
    background:#1b1b1b; display:flex; align-items:center; padding:0 5px; z-index:1000;
  }
  #startButton {
    width:80px; height:100%; background:#2b2b2b; color:white;
    display:flex; align-items:center; justify-content:center; cursor:pointer;
    user-select:none; border-radius:3px;
  }
  #startMenu {
    position:fixed; bottom:40px; left:5px; width:250px;
    background:#2b2b2b; color:white; border-radius:5px;
    display:none; flex-direction:column; padding:10px; max-height:400px; overflow-y:auto;
    z-index:1001;
  }
  #startMenu button {
    background:none; border:none; color:white; padding:5px; text-align:left; cursor:pointer;
  }
  #startMenu button:hover { background:rgba(255,255,255,0.1); }

  /* Desktop icons */
  #desktop {
    width:100%; height:100%; position:relative;
  }
  .appIcon {
    width:80px; height:80px; display:flex; flex-direction:column;
    align-items:center; justify-content:center; position:absolute;
    cursor:pointer; color:white; font-size:12px; user-select:none;
  }
  .appIcon img { width:48px; height:48px; }

  /* Windows */
  .window {
    position:absolute; top:50px; left:50px; width:600px; height:400px;
    background:white; color:black; border:2px solid #555;
    border-radius:5px; display:none; flex-direction:column; z-index:999;
  }
  .windowHeader {
    height:30px; background:#0078d7; color:white;
    display:flex; align-items:center; justify-content:space-between;
    padding:0 10px; cursor:move;
  }
  .windowBody { flex:1; padding:10px; overflow:auto; background:#f0f0f0; }
  .closeButton { width:20px; height:20px; background:red; text-align:center; line-height:20px; cursor:pointer; border-radius:3px; }

  /* App Store */
  #appStore .appList { display:flex; flex-direction:column; gap:5px; max-height:300px; overflow-y:auto; }
  #appStore .appList button { display:flex; align-items:center; gap:5px; padding:5px; cursor:pointer; }

  /* Fullscreen modal */
  .fullscreenWindow {
    position:fixed; top:0; left:0; width:100%; height:100%; background:white;
    display:none; flex-direction:column; z-index:2000;
  }
  .fullscreenHeader {
    height:30px; background:#0078d7; color:white; display:flex; align-items:center; justify-content:space-between;
    padding:0 10px;
  }
  .fullscreenBody { flex:1; padding:10px; overflow:auto; background:#f0f0f0; }

  /* Countdown bar */
  #countdownBarContainer {
    width:80%; height:30px; background:#ccc; margin:20px auto; border-radius:5px;
    overflow:hidden;
  }
  #countdownBar { height:100%; width:0%; background:red; transition:width 1s linear; }
</style>
</head>
<body>
<div id="desktop">
  <!-- App Icons -->
  <div class="appIcon" id="factoryResetIcon" style="top:20px; left:20px;">
    <img src="https://cdn.pixabay.com/photo/2013/07/13/13/39/alert-160958_1280.png" alt="Factory Reset">
    <span>Factory Reset</span>
  </div>
  <div class="appIcon" id="appStoreIcon" style="top:20px; left:120px;">
    <img src="https://cdn.pixabay.com/photo/2017/03/31/11/41/app-store-2191666_1280.png" alt="App Store">
    <span>App Store</span>
  </div>
</div>

<!-- Taskbar -->
<div id="taskbar">
  <div id="startButton">Start</div>
</div>

<!-- Start Menu -->
<div id="startMenu">
  <button id="returnWeb">Return to Basic Web</button>
</div>

<!-- Windows -->
<div class="window" id="factoryResetWindow">
  <div class="windowHeader">
    <span>Windows Factory Reset</span>
  </div>
  <div class="windowBody">
    <p>Windows has been factory reset. All apps will reappear.</p>
    <div id="countdownBarContainer"><div id="countdownBar"></div></div>
  </div>
</div>

<div class="window" id="appStore">
  <div class="windowHeader">
    <span>App Store</span>
    <div class="closeButton" onclick="closeWindow('appStore')">X</div>
  </div>
  <div class="windowBody">
    <div class="appList">
      <button onclick="installApp('deviceInfo')">Device Info</button>
      <button onclick="installApp('minecraft')">Minecraft 1.8.8</button>
      <button onclick="installApp('fortnite')">Fortnite Launcher</button>
    </div>
  </div>
</div>

<div class="fullscreenWindow" id="minecraftWindow">
  <div class="fullscreenHeader">
    <span>Minecraft 1.8.8</span>
    <div class="closeButton" onclick="closeFullScreen('minecraftWindow')">X</div>
  </div>
  <div class="fullscreenBody" id="minecraftContent">
    <p>This App Is Unavailable</p>
    <p>Please Wait While I Find Another Unblocked Version!</p>
  </div>
</div>

<div class="fullscreenWindow" id="fortniteWindow">
  <div class="fullscreenHeader">
    <span>Fortnite Launcher</span>
    <div class="closeButton" onclick="closeFullScreen('fortniteWindow')">X</div>
  </div>
  <div class="fullscreenBody">
    <p>Disclaimer!</p>
    <p>You need to be signed in to an Amazon account with Prime to use this service!</p>
    <p>Link your Epic Games account to your Amazon account on <a href="https://luna.amazon.co.uk" target="_blank">luna.amazon.co.uk</a></p>
    <button onclick="window.open('https://luna.amazon.co.uk/game/fortnite?lang=en-US&ref=tmp_ext_epic&autoplay=1')">Launch Anyway</button>
  </div>
</div>

<script>
  // Start menu toggle
  const startButton = document.getElementById('startButton');
  const startMenu = document.getElementById('startMenu');
  startButton.onclick = () => startMenu.style.display = startMenu.style.display==='flex'?'none':'flex';
  document.getElementById('returnWeb').onclick = () => window.location.href='index.html';

  // Open and close windows
  function openWindow(id){ document.getElementById(id).style.display='flex'; }
  function closeWindow(id){ document.getElementById(id).style.display='none'; }
  function closeFullScreen(id){ document.getElementById(id).style.display='none'; }

  // Factory Reset
  document.getElementById('factoryResetIcon').onclick = () => {
    const win = document.getElementById('factoryResetWindow');
    win.style.display='flex';
    let progress = 0;
    const bar = document.getElementById('countdownBar');
    const interval = setInterval(()=>{
      progress += 10;
      bar.style.width = progress+'%';
      if(progress>=100){ clearInterval(interval); window.location.href='index.html'; }
    },1000);
  };

  // App Store
  document.getElementById('appStoreIcon').onclick = () => openWindow('appStore');

  // App installation logic
  const installedApps = JSON.parse(localStorage.getItem('installedApps')||'{}');
  function installApp(name){
    if(installedApps[name]) return;
    const desktop = document.getElementById('desktop');
    let top = 140 + Object.keys(installedApps).length*100;
    let icon = document.createElement('div');
    icon.className='appIcon';
    icon.style.top=top+'px'; icon.style.left='20px';
    if(name==='deviceInfo'){
      icon.innerHTML='<img src="https://cdn.pixabay.com/photo/2016/12/28/13/20/information-1939510_1280.png"><span>Device Info</span>';
      icon.onclick = () => alert('Device info app!');
    }
    if(name==='minecraft'){
      icon.innerHTML='<img src="https://static.wikia.nocookie.net/minecraft_gamepedia/images/c/c7/Grass_Block.png/revision/latest/scale-to-width-down/268?cb=20230226144250"><span>Minecraft 1.8.8</span>';
      icon.onclick = () => {
        let pw = prompt('Enter password to launch Minecraft:');
        if(pw==='secret123') openWindow('minecraftWindow');
        else alert('Password is incorrect!');
      };
    }
    if(name==='fortnite'){
      icon.innerHTML='<img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRvb1r9fOqmmLDhvcAbmV6HRkRuliJAjD-uCQ&s"><span>Fortnite Launcher</span>';
      icon.onclick = () => openWindow('fortniteWindow');
    }
    desktop.appendChild(icon);
    installedApps[name]=true;
    localStorage.setItem('installedApps', JSON.stringify(installedApps));
  }

  // Load installed apps
  Object.keys(installedApps).forEach(name=>installApp(name));

</script>
</body>
</html>
