<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Custom Desktop</title>
<style>
body {
  margin: 0;
  font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
  background-color: #1e1e1e;
  overflow: hidden;
}

.desktop { width: 100vw; height: 100vh; position: relative; }

/* Desktop Icon */
.icon {
  width: 80px;
  text-align: center;
  color: white;
  cursor: pointer;
  position: absolute;
}
.icon img { width: 64px; height: 64px; display: block; margin: 0 auto; }
.icon span { display: block; margin-top: 5px; font-size: 12px; }

/* Window */
.window {
  position: absolute;
  top: 50px;
  left: 50px;
  width: 80%;
  height: 80%;
  background: #fff;
  border: 1px solid #555;
  display: none;
  flex-direction: column;
  z-index: 10;
  box-shadow: 0 0 20px rgba(0,0,0,0.8);
}
.window-header {
  background: #0078D7;
  color: white;
  padding: 6px 10px;
  display: flex;
  justify-content: space-between;
  align-items: center;
  font-weight: 500;
  cursor: move;
}
.window-content {
  flex: 1;
  overflow: auto;
  position: relative;
}

/* Close button */
.close-btn { cursor: pointer; font-weight: bold; }

/* Loading spinner */
.spinner {
  border: 6px solid #f3f3f3;
  border-top: 6px solid #0078D7;
  border-radius: 50%;
  width: 50px;
  height: 50px;
  animation: spin 1s linear infinite;
  position: absolute;
  top: 50%; left: 50%;
  transform: translate(-50%, -50%);
}
@keyframes spin { 100% { transform: translate(-50%, -50%) rotate(360deg); } }

/* Windows-style Popup */
.popup {
  position: absolute;
  top: 40%; left: 50%;
  transform: translate(-50%, -50%);
  width: 320px;
  background: #f0f0f0;
  border: 1px solid #555;
  z-index: 20;
  display: none;
  flex-direction: column;
  box-shadow: 0 0 10px rgba(0,0,0,0.7);
  border-radius: 4px;
}
.popup-header {
  background: #0078D7;
  color: white;
  padding: 6px 10px;
  font-weight: 500;
  display: flex;
  justify-content: space-between;
  align-items: center;
  cursor: move;
  border-top-left-radius: 4px;
  border-top-right-radius: 4px;
}
.popup-content {
  padding: 20px;
  text-align: center;
}
.popup input {
  width: 90%;
  padding: 6px;
  margin-top: 10px;
  border: 1px solid #ccc;
  border-radius: 2px;
  font-size: 14px;
}
.popup button {
  margin-top: 15px;
  padding: 6px 15px;
  cursor: pointer;
  border: none;
  border-radius: 2px;
  background-color: #0078D7;
  color: white;
  font-size: 14px;
}
.popup button:hover { background-color: #005a9e; }
</style>
</head>
<body>
<div class="desktop">
  <!-- Minecraft 1.8.8 Icon -->
  <div class="icon" style="top:20px; left:20px;" data-app="minecraft">
    <img src="data:image/webp;base64,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" alt="Minecraft Icon" />
    <span>Minecraft 1.8.8</span>
  </div>

  <!-- Minecraft Window -->
  <div class="window" id="minecraftWindow">
    <div class="window-header">
      <span>Minecraft 1.8.8</span>
      <span class="close-btn" onclick="closeWindow()">✖</span>
    </div>
    <div class="window-content">
      <div class="spinner" id="spinner"></div>
      <iframe id="minecraftIframe" style="width:100%; height:100%; border:none; display:none;"></iframe>
    </div>
  </div>

  <!-- Password Popup -->
  <div class="popup" id="passwordPopup">
    <div class="popup-header">
      <span>Enter Password</span>
      <span class="close-btn" onclick="closePopup('passwordPopup')">✖</span>
    </div>
    <div class="popup-content">
      <p>Please enter the password to launch Minecraft:</p>
      <input type="password" id="passwordInput" placeholder="Password" />
      <button onclick="checkPassword()">OK</button>
    </div>
  </div>

  <!-- Incorrect Password Popup -->
  <div class="popup" id="incorrectPopup">
    <div class="popup-header">
      <span>Error</span>
      <span class="close-btn" onclick="closePopup('incorrectPopup')">✖</span>
    </div>
    <div class="popup-content">
      <p>Password is incorrect</p>
      <button onclick="closePopup('incorrectPopup')">OK</button>
    </div>
  </div>
</div>

<script>
const icon = document.querySelector('.icon[data-app="minecraft"]');
const windowEl = document.getElementById('minecraftWindow');
const iframe = document.getElementById('minecraftIframe');
const spinner = document.getElementById('spinner');

const passwordPopup = document.getElementById('passwordPopup');
const incorrectPopup = document.getElementById('incorrectPopup');
const passwordInput = document.getElementById('passwordInput');

icon.addEventListener('dblclick', () => {
  passwordPopup.style.display = 'flex';
  passwordInput.value = '';
  passwordInput.focus();
});

function checkPassword() {
  if(passwordInput.value === 'secret123') {
    passwordPopup.style.display = 'none';
    launchMinecraft();
  } else {
    passwordPopup.style.display = 'none';
    incorrectPopup.style.display = 'flex';
  }
}

function closePopup(id) {
  document.getElementById(id).style.display = 'none';
}

async function launchMinecraft() {
  windowEl.style.display = 'flex';
  spinner.style.display = 'block';
  iframe.style.display = 'none';

  let mcHTML = localStorage.getItem('MinecraftHTMLload');
  if (!mcHTML) {
    try {
      const response = await fetch('https://eaglercraft.com/mc/1.8.8');
      mcHTML = await response.text();
      localStorage.setItem('MinecraftHTMLload', mcHTML);
    } catch (err) {
      mcHTML = '<h2>Failed to load Minecraft HTML</h2>';
    }
  }

  const blob = new Blob([mcHTML], { type: 'text/html' });
  const url = URL.createObjectURL(blob);
  iframe.src = url;

  iframe.onload = () => {
    spinner.style.display = 'none';
    iframe.style.display = 'block';
  };
}

function closeWindow() {
  windowEl.style.display = 'none';
  iframe.src = '';
}

// Make windows draggable
function makeDraggable(el) {
  let isDragging = false, offsetX, offsetY;
  const header = el.querySelector('.window-header, .popup-header');
  header.addEventListener('mousedown', (e) => {
    isDragging = true;
    offsetX = e.clientX - el.offsetLeft;
    offsetY = e.clientY - el.offsetTop;
  });
  document.addEventListener('mousemove', (e) => {
    if (isDragging) {
      el.style.left = (e.clientX - offsetX) + 'px';
      el.style.top = (e.clientY - offsetY) + 'px';
    }
  });
  document.addEventListener('mouseup', () => { isDragging = false; });
}

makeDraggable(windowEl);
makeDraggable(passwordPopup);
makeDraggable(incorrectPopup);
</script>
</body>
</html>
